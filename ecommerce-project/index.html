<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">    
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>متجر إلكتروني</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.rtl.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <!-- القائمة العلوية -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <div class="container">
            <a class="navbar-brand" href="#">متجر إلكتروني</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item">
                        <a class="nav-link active" href="index.html">الرئيسية</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" id="productsLink">المنتجات</a>
                    </li>
                    <li class="nav-item admin-only" style="display: none;">
                        <a class="nav-link" href="#" id="adminDashboardLink">لوحة التحكم</a>
                    </li>
                </ul>
                <div class="d-flex">
                    <a href="#" class="btn btn-light me-2" id="cartBtn">
                        <i class="fas fa-shopping-cart"></i>
                        <span id="cartCount">0</span>
                    </a>
                    <div id="userAuthSection">
                        <a href="#" class="btn btn-outline-light me-2" id="loginBtn">تسجيل الدخول</a>
                        <a href="#" class="btn btn-light" id="registerBtn">إنشاء حساب</a>
                    </div>
                    <div id="userProfileSection" style="display: none;">
                        <span class="text-light me-2" id="welcomeUser"></span>
                        <a href="#" class="btn btn-outline-light" id="logoutBtn">تسجيل الخروج</a>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- المحتوى الرئيسي -->
    <div class="container mt-4">
        <!-- قسم الترحيب -->
        <div id="welcomeSection" class="mb-5">
            <div class="row">
                <div class="col-md-6">
                    <h1 class="display-4">أهلاً بك في متجرنا الإلكتروني</h1>
                    <p class="lead">تسوق أحدث المنتجات بأفضل الأسعار</p>
                    <a href="#" class="btn btn-primary btn-lg" id="shopNowBtn">تسوق الآن</a>
                </div>
                <div class="col-md-6">
                    <img src="images/hero-image.jpg" alt="صورة المتجر" class="img-fluid rounded" id="heroImage">
                </div>
            </div>
        </div>

        <!-- قسم تسجيل الدخول -->
        <div id="loginSection" class="auth-section" style="display: none;">
            <h2>تسجيل الدخول</h2>
            <form id="loginForm">
                <div class="mb-3">
                    <label for="loginUsername" class="form-label">اسم المستخدم أو البريد الإلكتروني</label>
                    <input type="text" class="form-control" id="loginUsername" required>
                </div>
                <div class="mb-3">
                    <label for="loginPassword" class="form-label">كلمة المرور</label>
                    <input type="password" class="form-control" id="loginPassword" required>
                </div>
                <button type="submit" class="btn btn-primary">تسجيل الدخول</button>
                <p class="mt-3">ليس لديك حساب؟ <a href="#" id="switchToRegister">إنشاء حساب جديد</a></p>
            </form>
        </div>

        <!-- قسم إنشاء حساب -->
        <div id="registerSection" class="auth-section" style="display: none;">
            <h2>إنشاء حساب جديد</h2>
            <form id="registerForm">
                <div class="mb-3">
                    <label for="registerName" class="form-label">الاسم الكامل</label>
                    <input type="text" class="form-control" id="registerName" required>
                </div>
                <div class="mb-3">
                    <label for="registerEmail" class="form-label">البريد الإلكتروني</label>
                    <input type="email" class="form-control" id="registerEmail" required>
                </div>
                <div class="mb-3">
                    <label for="registerUsername" class="form-label">اسم المستخدم</label>
                    <input type="text" class="form-control" id="registerUsername" required>
                </div>
                <div class="mb-3">
                    <label for="registerPassword" class="form-label">كلمة المرور</label>
                    <input type="password" class="form-control" id="registerPassword" required>
                </div>
                <div class="mb-3">
                    <label for="registerConfirmPassword" class="form-label">تأكيد كلمة المرور</label>
                    <input type="password" class="form-control" id="registerConfirmPassword" required>
                </div>
                <button type="submit" class="btn btn-primary">إنشاء حساب</button>
                <p class="mt-3">لديك حساب بالفعل؟ <a href="#" id="switchToLogin">تسجيل الدخول</a></p>
            </form>
        </div>

        <!-- قسم المنتجات -->
        <div id="productsSection" style="display: none;">
            <div class="d-flex justify-content-between align-items-center mb-4">
                <h2>المنتجات</h2>
                <div class="d-flex">
                    <div class="input-group me-2" style="width: 300px;">
                        <input type="text" class="form-control" placeholder="ابحث عن منتج..." id="searchInput">
                        <button class="btn btn-outline-secondary" type="button" id="searchBtn">
                            <i class="fas fa-search"></i>
                        </button>
                    </div>
                    <select class="form-select me-2" id="categoryFilter" style="width: 150px;">
                        <option value="">جميع الفئات</option>
                    </select>
                    <select class="form-select" id="priceSort" style="width: 150px;">
                        <option value="">ترتيب حسب</option>
                        <option value="lowToHigh">السعر: من الأقل للأعلى</option>
                        <option value="highToLow">السعر: من الأعلى للأقل</option>
                    </select>
                </div>
            </div>
            <div class="row" id="productsList"></div>
            <div class="admin-only mt-4" style="display: none;">
                <button class="btn btn-success" id="addProductBtn">
                    <i class="fas fa-plus"></i> إضافة منتج جديد
                </button>
            </div>
        </div>

        <!-- نموذج إضافة/تعديل منتج -->
        <div class="modal fade" id="productModal" tabindex="-1">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="productModalTitle">إضافة منتج جديد</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="إغلاق"></button>
                    </div>
                    <div class="modal-body">
                        <form id="productForm">
                            <input type="hidden" id="productId">
                            <div class="mb-3">
                                <label for="productName" class="form-label">اسم المنتج</label>
                                <input type="text" class="form-control" id="productName" required>
                            </div>
                            <div class="mb-3">
                                <label for="productPrice" class="form-label">السعر</label>
                                <input type="number" class="form-control" id="productPrice" min="0" step="0.01" required>
                            </div>
                            <div class="mb-3">
                                <label for="productDescription" class="form-label">الوصف</label>
                                <textarea class="form-control" id="productDescription" rows="3" required></textarea>
                            </div>
                            <div class="mb-3">
                                <label for="productCategory" class="form-label">الفئة</label>
                                <input type="text" class="form-control" id="productCategory" required>
                            </div>
                            <div class="mb-3">
                                <label for="productImage" class="form-label">رابط الصورة</label>
                                <input type="text" class="form-control" id="productImage">
                            </div>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">إلغاء</button>
                        <button type="button" class="btn btn-primary" id="saveProductBtn">حفظ</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- قسم سلة التسوق -->
        <div id="cartSection" style="display: none;">
            <h2>سلة التسوق</h2>
            <div id="cartItems" class="mb-4"></div>
            <div class="d-flex justify-content-between align-items-center">
                <h4>المجموع: <span id="cartTotal">0</span> جنيها</h4>
                <button class="btn btn-primary" id="checkoutBtn">إتمام الشراء</button>
            </div>
        </div>

        <!-- قسم إتمام الطلب -->
        <div id="checkoutSection" style="display: none;">
            <h2>إتمام الطلب</h2>
            <form id="checkoutForm">
                <div class="mb-3">
                    <label for="shippingAddress" class="form-label">عنوان الشحن</label>
                    <textarea class="form-control" id="shippingAddress" rows="3" required></textarea>
                </div>
                <div class="mb-3">
                    <label for="paymentMethod" class="form-label">طريقة الدفع</label>
                    <select class="form-select" id="paymentMethod" required>
                        <option value="">اختر طريقة الدفع</option>
                        <option value="creditCard">بطاقة ائتمان</option>
                        <option value="paypal">PayPal</option>
                        <option value="cashOnDelivery">الدفع عند الاستلام</option>
                    </select>
                </div>
                <button type="submit" class="btn btn-success">تأكيد الطلب</button>
            </form>
        </div>

        <!-- قسم تأكيد الطلب -->
        <div id="orderConfirmationSection" style="display: none;">
            <div class="alert alert-success">
                <h4>تم تأكيد طلبك بنجاح!</h4>
                <p>رقم الطلب: <span id="orderNumber"></span></p>
            </div>
            <div class="card mb-4">
                <div class="card-header">
                    <h5>تفاصيل الطلب</h5>
                </div>
                <div class="card-body">
                    <div id="orderDetails"></div>
                    <hr>
                    <h5>المجموع: <span id="orderTotal"></span> جنيها</h5>
                </div>
            </div>
            <button class="btn btn-primary" id="backToShopBtn">العودة للتسوق</button>
        </div>

        <!-- قسم لوحة تحكم المشرف -->
        <div id="adminDashboardSection" style="display: none;">
            <h2>لوحة تحكم المشرف</h2>
            <div class="row mb-4">
                <div class="col-md-3">
                    <div class="card text-white bg-primary">
                        <div class="card-body">
                            <h5 class="card-title">عدد المنتجات</h5>
                            <p class="card-text display-4" id="totalProducts">0</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="card text-white bg-success">
                        <div class="card-body">
                            <h5 class="card-title">عدد الطلبات</h5>
                            <p class="card-text display-4" id="totalOrders">0</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="card text-white bg-info">
                        <div class="card-body">
                            <h5 class="card-title">إجمالي المبيعات</h5>
                            <p class="card-text display-4" id="totalSales">0</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="card text-white bg-warning">
                        <div class="card-body">
                            <h5 class="card-title">المستخدمين النشطين</h5>
                            <p class="card-text display-4" id="activeUsers">0</p>
                        </div>
                    </div>
                </div>
            </div>

            <h3>إدارة الطلبات</h3>
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th>رقم الطلب</th>
                        <th>المستخدم</th>
                        <th>التاريخ</th>
                        <th>المجموع</th>
                        <th>الحالة</th>
                        <th>الإجراءات</th>
                    </tr>
                </thead>
                <tbody id="ordersList"></tbody>
            </table>
        </div>
    </div>

    <!-- تذييل الصفحة -->
    <footer class="bg-dark text-white mt-5 py-4">
        <div class="container">
            <div class="row">
                <div class="col-md-4">
                    <h5>متجر إلكتروني</h5>
                    <p>منصة تسوق إلكترونية سهلة وآمنة</p>
                </div>
                <div class="col-md-4">
                    <h5>روابط سريعة</h5>
                    <ul class="list-unstyled">
                        <li><a href="#" class="text-white">الرئيسية</a></li>
                        <li><a href="#" class="text-white">المنتجات</a></li>
                        <li><a href="#" class="text-white">من نحن</a></li>
                        <li><a href="#" class="text-white">اتصل بنا</a></li>
                    </ul>
                </div>
                <div class="col-md-4">
                    <h5>تواصل معنا</h5>
                    <ul class="list-unstyled">
                        <li><i class="fas fa-envelope me-2"></i> info@example.com</li>
                        <li><i class="fas fa-phone me-2"></i> +123 456 7890</li>
                    </ul>
                </div>
            </div>
            <hr>
            <div class="text-center">
                <p>جميع الحقوق محفوظة &copy; 2025</p>
            </div>
        </div>
    </footer>

    <!-- مكتبات JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/products.js"></script>
    <script src="js/cart.js"></script>
    <script src="js/orders.js"></script>
    <script src="js/admin.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
